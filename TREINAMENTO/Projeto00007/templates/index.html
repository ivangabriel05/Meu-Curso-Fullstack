<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Aluno</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .form-container {
            max-width: 500px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        .form-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-header h2 {
            margin: 0;
            font-size: 24px;
            color: #343a40;
        }
        .btn-primary {
            width: 100%;
        }
    </style>
</head>
<body>

<div class="form-container">
    <div class="form-header">
        <h2>Cadastro de Aluno</h2>
    </div>
    <form>
        <!-- Nome -->
        <div class="form-group">
            <label for="inputNome">Nome do Aluno</label>
            <input type="text" class="form-control" id="inputNome" placeholder="Digite o nome do aluno" required>
            <div class="invalid-feedback">
                Por favor, insira o nome do aluno.
            </div>
        </div>

        <!-- Estado -->
        <div class="form-group">
            <label for="inputEstado">Estado</label>
            <select class="form-control" id="inputEstado" required>
                <option disabled selected value="">Selecione o estado...</option>
                <!-- Apenas Piauí e Maranhão -->
                <option value="PI">Piauí</option>
                <option value="MA">Maranhão</option>
            </select>
            <div class="invalid-feedback">
                Por favor, selecione um estado.
            </div>
        </div>

        <!-- Cidade -->
        <div class="form-group">
            <label for="inputCidade">Cidade</label>
            <select class="form-control" id="inputCidade" required>
                <option disabled selected value="">Selecione a cidade...</option>
                <!-- As cidades serão preenchidas automaticamente -->
            </select>
            <div class="invalid-feedback">
                Por favor, selecione uma cidade.
            </div>
        </div>

        <!-- Botão de Enviar -->
        <button class="btn btn-primary" type="submit">Cadastrar</button>
    </form>
</div>

<script>
    // Função para buscar cidades na BrasilAPI
    async function buscarCidades(uf) {
    const response = await fetch(`https://brasilapi.com.br/api/ibge/municipios/v1/${uf}`);
        const cidades = await response.json();
        const cidadeSelect = document.getElementById('inputCidade');

        // Limpar as cidades anteriores
        cidadeSelect.innerHTML = '<option disabled selected value="">Selecione a cidade...</option>';

        cidades.forEach(cidade => {
            const option = document.createElement('option');
            option.value = cidade.nome;
            option.textContent = cidade.nome;
            cidadeSelect.appendChild(option);
        });
    }

    // Evento para carregar as cidades quando um estado é selecionado
    document.getElementById('inputEstado').addEventListener('change', function () {
        const estadoSelecionado = this.value;
        if (estadoSelecionado) {
            buscarCidades(estadoSelecionado);
        }
    });
</script>
    
          
 {% for x in  formularios %}
          <div style="border: 1px solid #000;">
            <h3>{{x.nome}}</h3>
            <img src="{{x.especializacao.url}}" alt="width""200" height="auto">
            <a href="{{x.selecao.url}}" target=" _blank">
                <P>Baixar Edital</p>
            </a>
           <p>{{x.aluno}}</p>
          </div>
        {%endfor%}

  </body>
</html>